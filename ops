{"author":{"id":"6a79840f60ece05bad168fd4e8a0ddbd4f6e3b5d75550ceef46e0c0931e94bf0"},"ops":[{"type":6,"timestamp":1607097472,"nonce":"H9f/TQs7sk2/lSow8aHN/jpumtg=","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlRWRpdDo0NjQzNzUzMjM="},"target":"dd0cd5d38d7781dcdb8087d7a2fcb75df456cfa67d015522a1bfd0fbf17ecaaf","message":"Hello,\nWhat's the reasoning behind writing the packet size in each wb packet ?\n\nI'd guess it is redundant, since the packet size can be calculated on rx by substracting header size from packet size ?\n\nThis way we get 2 more bytes into each packet.","files":null},{"type":3,"timestamp":1607098667,"nonce":"eWIxb+pFghkOZq18VBh0n5zNilw=","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDczODg3MzM4NA==","github-url":"https://github.com/svpcom/wfb-ng/issues/67#issuecomment-738873384"},"message":"I think it is an relict of how you wrote the fec encoder / decoder part.\nBut there it can be stored somewhere else, and must not be included in the actual packet going out.","files":null},{"type":3,"timestamp":1607109282,"nonce":"sm3WRvJEUhQKeqmUFE1/R0yy0Hk=","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDczODk2NjU2NA==","github-url":"https://github.com/svpcom/wfb-ng/issues/67#issuecomment-738966564"},"message":"I think I understand now why the packet size is written with each fec packet:\nIf a data packet is lost, and this data packet is reconstructed by FEC, the information where the actual data of this packet is and where the '0' padding begins cannot be recovered.\nSo this information needs to be reconstructed with the FEC step, and therefore needs to stand in the packet","files":null}]}