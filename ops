{"author":{"id":"79930cc41f93701130bd35ef9e1a84b1baf5fa96774a4fa0ff59b3b5c3e86ecb"},"ops":[{"type":3,"timestamp":1585208649,"nonce":"yS7mEkw+LBH3NnEPvSw3cev7w48=","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDYwNDI3ODc2MA==","github-url":"https://github.com/svpcom/wfb-ng/issues/46#issuecomment-604278760"},"message":"Last night i've spent a copule of hours intesting e tweaking following svpcom suggestions. \nI have used a pi 3b+ for the drone and a laptop with ubuntu 18.04 as groundstation with a setup at 2.4GHz; i've make my tests with my home wifi network shut down, with 4-5 meters between the two antennas and without phisical obstacles.\n\nTx string:\n`gst-launch-1.0 videotestsrc ! video/x-raw,width=640,height=480 ! v4l2h264enc extra-controls=\"encode,video_bitrate=600000;\" ! h264parse ! rtph264pay config-interval=1 pt=96 ! udpsink host=127.0.0.1 port=5602`\nRx string:\n`gst-launch-1.0 -vv udpsrc do-timestamp=true port=5600 caps='application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264' ! rtph264depay ! avdec_h264 ! xvimagesink sync=false`\n\nAt the end of those tests, i've reached a maximum video_bitrate=550000 which gives me, looking at the system monitor, 100KB/s.\nIn the [wiki](https://github.com/svpcom/wifibroadcast/wiki/Navio2-Setup), i can read about 4 Mbit of bandwith with that string; looking at the wifi specs, a 5GHz setup should be more ore less 3 times faster than a 2.4GHz one, this make sens respect to the 1 Mb/s that i have reached with my 2.4GHz setup, it's more ore less 3 times slower than the 5GHz setup of the wiki.\nBut generally speaking i can't understand how it's possible for wifibroadcast or OpenHD to reach 6Mbit with a 2.4GHz setup and at home with a busy radio channel, the network collision and so on..\nAn ultimate test could be to write an openhd image on the same hardware to find what is the limit with their software.\n\nOne last stange think to mention: during my tests, tweaking the bitrate and the parameters, looking at the system monitor for a precise data about the network speed i have noticed a sort of strong cut, a limit at 124KB/s. \nWhatever parameter or bitrate i've tried, i colud see the network speed line on the system monitor change but never above that 124KB/s limit.. is there a sort or software limitation or something elese? Somone else have acheived similar results?","files":null},{"type":6,"timestamp":1585208801,"nonce":"6EH/n2m0Nq3SQSyNy/jrn8Uv5j8=","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlQ29tbWVudEVkaXQ6MzYwNjE3NDk3"},"target":"9483cf08a3dae695d150cbcfa7a483106925da92e40ee7e9e8707fc01fde4c5d","message":"Last night i've spent a copule of hours intesting and tweaking following svpcom suggestions. \nI have used a pi 3b+ for the drone and a laptop with ubuntu 18.04 as groundstation with a setup at 2.4GHz; i've make my tests with my home wifi network shut down, with 4-5 meters between the two antennas and without phisical obstacles.\n\nTx string:\n`gst-launch-1.0 videotestsrc ! video/x-raw,width=640,height=480 ! v4l2h264enc extra-controls=\"encode,video_bitrate=600000;\" ! h264parse ! rtph264pay config-interval=1 pt=96 ! udpsink host=127.0.0.1 port=5602`\nRx string:\n`gst-launch-1.0 -vv udpsrc do-timestamp=true port=5600 caps='application/x-rtp, media=(string)video, clock-rate=(int)90000, encoding-name=(string)H264' ! rtph264depay ! avdec_h264 ! xvimagesink sync=false`\n\nAt the end of those tests, i've reached a maximum video_bitrate=550000 which gives me, looking at the system monitor, 100KB/s.\nIn the [wiki](https://github.com/svpcom/wifibroadcast/wiki/Navio2-Setup), i can read about 4 Mbit of bandwith with that string; looking at the wifi specs, a 5GHz setup should be more ore less 3 times faster than a 2.4GHz one, this make sens respect to the 1 Mb/s that i have reached with my 2.4GHz setup, it's more ore less 3 times slower than the 5GHz setup of the wiki.\nBut generally speaking i can't understand how it's possible for wifibroadcast or OpenHD to reach 6Mbit with a 2.4GHz setup and at home with a busy radio channel, the network collision and so on..\nAn ultimate test could be to write an openhd image on the same hardware to find what is the limit with their software.\n\nOne last stange think to mention: during my tests, tweaking the bitrate and the parameters, looking at the system monitor for a precise data about the network speed i have noticed a sort of strong cut, a limit at 124KB/s. \nWhatever parameter or bitrate i've tried, i colud see the network speed line on the system monitor change but never above that 124KB/s limit.. is there a sort or software limitation or something else? Someone else have acheived similar results?","files":null}]}