{"author":{"id":"b03b656f2973b3294e885873225f3e6827ef890be5b6895978d995675f093aac"},"ops":[{"type":3,"timestamp":1611959279,"nonce":"dqxBfV9rAM6pNEoD2uyJFNLqUGI=","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc3MDA4MzgxOA==","github-url":"https://github.com/svpcom/wfb-ng/issues/46#issuecomment-770083818"},"message":"Hi, I also have a testing setup with 2 AWUS036NHA (i.e. AR9271) and investigated low bandwith problems. The issue is, that AR9271 (or any driver module of the kernel or the device firmware itself) does obviously not support to set the mcs index via the [radiotap header](https://www.radiotap.org/). This is why changing the mcs_index in the configuration (or setting it directly via the -M switch of wfb_tx) does not have any effect. You always stick to mcs index 0 (1MBit). As much as I found out, it is also not possible, to set the bitrate somehow else when the device is in monitoring mode (iw iwconfig, etc).\nThat is why the original author of wifibroadcast (befi) published a patch of the AR9271 firmware, that changes the default mcs index to 3 (26MBit, see https://befinitiv.wordpress.com/wifibroadcast-analog-like-transmission-of-live-video-data/wifibroadcast-fpv-manual-setup/). The original repository seems to be offline, but [here](https://github.com/goodwin/wifibroadcast/tree/master/patches/AR9271/firmware) is a mirrow containing the patch and the firmware file. In contrast to the blog post, I had to (additionally) replace /lib/firmware/ath9k_htc/htc_9271-1.4.0.fw with the patched firmware (on ubuntu 18.04 but also on a current raspperry pi OS). With this firmware I can get a stable 6MBit data rate.\n\nOne more note for AWUS036NHA: I found out, that the transimission has much less packet losses and fec corrections (in fact nearly none at all) if you remove the antenna from the receiver side device (at least for my indoor low-distance tests). I guess that (maybe) the signal is too strong and causes distortions on the receiver side on very low distance!?","files":null}]}