{"author":{"id":"6a79840f60ece05bad168fd4e8a0ddbd4f6e3b5d75550ceef46e0c0931e94bf0"},"ops":[{"type":1,"timestamp":1607617031,"nonce":"/80jnvyP5pSZq060PldInSOX6rE=","metadata":{"github-id":"MDU6SXNzdWU3NjEzNzg1OTI=","github-url":"https://github.com/svpcom/wfb-ng/issues/71","origin":"github"},"title":"Optimization - use actual size used for fec encoding on RX instead of MAX_PACKET_SIZE","message":"Hello,\nIn your rx implementation you use MAX_PACKET_SIZE when reconstructing primary FEC fragments with secondary fragments:\nhttps://github.com/svpcom/wifibroadcast/blob/master/src/rx.cpp#L616\n\nHowever, I am wondering if it wouldn't be better to use the same size that was used on the tx.\nSince each FEC secondary packet has the size of max_packet_size (as calculated on tx for this block) the information should be available in the apply_fec step.\n\nI'd use omething like this (hope this example makes my intentions clearer:\nhttps://github.com/Consti10/wifibroadcast/blob/master/src/FEC.hpp#L196","files":null}]}