{"author":{"id":"f6e2c84cbd41daecf4582d969b556a96eb202b5bed142fd85d6e07732fc4fe19"},"ops":[{"type":3,"timestamp":1713569701,"nonce":"vys8ZrHMzeF9zvPx5cnLaLTVQaw=","metadata":{"github-id":"IC_kwDOBLCY8M57Oey1","github-url":"https://github.com/svpcom/wfb-ng/issues/333#issuecomment-2067393717"},"message":"\u003e To fix error with `trunk` just set correct VERSION and COMMIT environment variables.\n\nStill not effective, please check commands as below:\n\n```\n$ cat test.sh\n#!/bin/bash\n\nVER_A=`git show -s --format=\"%ct\"`\nVER_B=`git rev-parse HEAD`\nVER_C=`git rev-parse --abbrev-ref HEAD`\n\nCOMMIT=$VER_B\nVERSION=`python3 ./version.py $VER_A $VER_B $VER_C`\n\necho \"A:$VER_A B:$VER_B C:$VER_C \"\necho \"Version: $VERSION\"\necho \"Commit: $COMMIT\"\n\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ echo $VERSION\n24.4.19.77495\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ echo $COMMIT\n24722e9b8b0dba0f202e064c3366715e3da5f052\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ export VERSION=24.4.19.77495\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ export COMMIT=24722e9b8b0dba0f202e064c3366715e3da5f052\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ python3 ./setup.py --command-packages=stdeb bdist_deb\nusage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\n   or: setup.py --help [cmd1 cmd2 ...]\n   or: setup.py --help-commands\n   or: setup.py cmd --help\n\nerror: invalid command 'bdist_deb'\n```","files":null},{"type":6,"timestamp":1713569776,"nonce":"l6JL5WDxL3x6GdRf3kXI6gRcsi4=","metadata":{"github-id":"UCE_lALOBLCY8M57Oey1zkSf7Nc"},"target":"63ab0b2614a7aadb7b4e8c740a50e1dd2048be933aa31e752044d33efe51d125","message":"\u003e To fix error with `trunk` just set correct VERSION and COMMIT environment variables.\n\nStill not effective, please check commands as below:\n\n```\n$ cat test.sh\n#!/bin/bash\n\nVER_A=`git show -s --format=\"%ct\"`\nVER_B=`git rev-parse HEAD`\nVER_C=`git rev-parse --abbrev-ref HEAD`\n\nCOMMIT=$VER_B\nVERSION=`python3 ./version.py $VER_A $VER_B $VER_C`\n\necho \"A:$VER_A B:$VER_B C:$VER_C \"\necho \"Version: $VERSION\"\necho \"Commit: $COMMIT\"\n\n\n---- do the assignments to version/commit etc.  and check env as below\n\n\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ echo $VERSION\n24.4.19.77495\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ echo $COMMIT\n24722e9b8b0dba0f202e064c3366715e3da5f052\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ export VERSION=24.4.19.77495\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ export COMMIT=24722e9b8b0dba0f202e064c3366715e3da5f052\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ python3 ./setup.py --command-packages=stdeb bdist_deb\nusage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\n   or: setup.py --help [cmd1 cmd2 ...]\n   or: setup.py --help-commands\n   or: setup.py cmd --help\n\nerror: invalid command 'bdist_deb'\n```","files":null},{"type":6,"timestamp":1713569820,"nonce":"vKTrho1KnC+TQQ10+HVd2Sns3Qk=","metadata":{"github-id":"UCE_lALOBLCY8M57Oey1zkSf7k0"},"target":"63ab0b2614a7aadb7b4e8c740a50e1dd2048be933aa31e752044d33efe51d125","message":"\u003e To fix error with `trunk` just set correct VERSION and COMMIT environment variables.\n\nStill not effective, please check commands as below:\n\n```\n$ cat test.sh\n#!/bin/bash\n\nVER_A=`git show -s --format=\"%ct\"`\nVER_B=`git rev-parse HEAD`\nVER_C=`git rev-parse --abbrev-ref HEAD`\n\nCOMMIT=$VER_B\nVERSION=`python3 ./version.py $VER_A $VER_B $VER_C`\n\necho \"A:$VER_A B:$VER_B C:$VER_C \"\necho \"Version: $VERSION\"\necho \"Commit: $COMMIT\"\n\n$ ./test.sh\nA:1713562295 B:24722e9b8b0dba0f202e064c3366715e3da5f052 C:lida2003-test\nVersion: 24.4.19.77495\nCommit: 24722e9b8b0dba0f202e064c3366715e3da5f052\n---- do the assignments to version/commit etc.  and check env as below\n\n\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ echo $VERSION\n24.4.19.77495\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ echo $COMMIT\n24722e9b8b0dba0f202e064c3366715e3da5f052\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ export VERSION=24.4.19.77495\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ export COMMIT=24722e9b8b0dba0f202e064c3366715e3da5f052\ndaniel@daniel-nvidia:~/wfb/wfb-ng$ python3 ./setup.py --command-packages=stdeb bdist_deb\nusage: setup.py [global_opts] cmd1 [cmd1_opts] [cmd2 [cmd2_opts] ...]\n   or: setup.py --help [cmd1 cmd2 ...]\n   or: setup.py --help-commands\n   or: setup.py cmd --help\n\nerror: invalid command 'bdist_deb'\n```","files":null}]}