{"author":{"id":"ebc3e296d230ac986f4588d5193ab5c9d24af973ad5f0001964fd3728e6e5de2"},"ops":[{"type":1,"timestamp":1729563498,"nonce":"PtDjsKFU0ov/UROdsahUd76c0go=","metadata":{"github-id":"I_kwDOBLCY8M6bNqP3","github-url":"https://github.com/svpcom/wfb-ng/issues/378","origin":"github"},"title":"[BUG] 8812eu not changing wifi channels","message":"**Describe the bug**\nI have a 8812au on the gs side which works perfectly, however the 8812eu on the drone refuses to change wifi channels. I can confirm the wifibroadcast@drone service is running and sent the iw command to change to channel 161. However it is stuck locked to channel 1.  However it does change to monitor mode. Trying to manually change the channel to 161 gives me this error:\n\n```iw dev wlan0 set channel 161 HT20command failed: Operation not permitted (-1)```\n\nIn the wiki it notes \n\n```Check with ethtool -i wlanXX that drivers version is empty (it will equal to kernel version for stock driver and empty for patched driver). NVIDIA Jetson has stock rtl8812au installed. You need to remove it!```\n\nhowever the driver version is not empty, like it is on the gs side with the 8812au. It's reporting the driver as \n\n```88x2eu```\n\nwhere the main readme says it should be \"8812eu\" I followed the instructions of this repo exactly, except for this part from the drivers git repo to get it to compile\n\n```\nOr, for arm64, run:\n\nsed -i 's/CONFIG_PLATFORM_I386_PC = y/CONFIG_PLATFORM_I386_PC = n/g' Makefile\nsed -i 's/CONFIG_PLATFORM_ARM64_RPI = n/CONFIG_PLATFORM_ARM64_RPI = y/g' Makefile\n```\n\nI forget the iw command I used, but it listed all the available wifi channels and most outside of a small handful in the 2.4ghz range were listed as \"disabled\" however it correctly lists my region as BO, and its set as such in the .cfg. \n\nNow, the weird thing is.. I had this working a few days before. I just reflashed the jetson and followed the wiki to the letter. I'm not sure what has changed since, and I can't get it working to where it was before. So I am hoping someone can shed some light on where to go from here, otherwise I'd assume it was a driver/kernel issue. \n\n**To Reproduce**\nInstall as per the readme.md and wiki\n\n**Expected behavior**\nConnection to gs\n\n**Screenshots**\nIf applicable, add screenshots to help explain your problem.\n\n**Your setup (please complete the following information):**\n - OS [e.g. Ubuntu 18.04, Raspbian]\n ```L4T 35.6.0 - Ubuntu 20.04 - 5.10.216-tegra```\n - Hardware [e.g. x86, rpi, nanopi neo2 ]\n ```Nvidia Jetson Orin Nano```\n - WiFi cards [e.g. rt28xx, rtl8812au]\n ```rtl8812eu```\n - WiFi drivers [e.g. stock, patched from http://.. ]\nhttps://github.com/svpcom/rtl8812eu/\n**Additional context**\nAdd any other context about the problem here.\n\n**Confirm you read**\n- [ X]  https://github.com/svpcom/wfb-ng/blob/master/README.md\n- [ X]  https://github.com/svpcom/wfb-ng/wiki/Setup-HOWTO","files":null}]}