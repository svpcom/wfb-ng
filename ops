{"author":{"id":"133713fc1ebfed0d1d1fffbcdbc3027856bcceda460a4667c92d3057bbb4e71c"},"ops":[{"type":1,"timestamp":1575518722,"nonce":"2VNVCwR7HfgNXyM/iqe4hzYQlSE=","metadata":{"github-id":"MDU6SXNzdWU1MzMxMTA1NTI=","github-url":"https://github.com/svpcom/wfb-ng/issues/46","origin":"github"},"title":"Can't figure out transmission problems (WiFi)","message":"Hi there.\n\nI've been trying to setup video transmission on April then left if for a while as I could not figure things out then I'm back.\n\nSo what I have is Raspberry Pi 2, 2x Alfa AWUS036NHA (AR9271), 2x Alfa AWUS036ACH.\n\nThe problem I have is like bandwidth is very narrow. I can get any video stream only if I set bitrate to like 100 and very low resolution. And even then there is big delay and some packet loss and key frames are not being still sent (received?) quite often.\n\nI tried to read whatever is possible, apply patches, use modded drivers when possible (everything according to docs) and nothing works for me. What does work is changing TX power but that's only by setting up limits by rules (none of commands worked for me iirc).\n\nAnyway what I have tried:\n- different channels\n- 2G/5G\n- different drivers\n- both WiFi cards (in pairs and in different combinations) along with some random cards\n- powering up WiFi card from external source\n- setting up things like `iw dev wlan0 set bitrates legacy-2.4 18`\n- different commands found across internet that supposed to change something\n- I saw a suggestion of using `EZ-WifiBroadcast`'s image and setting `wifibroadcast` up there as it includes various patches and things (no luck here as well)\n- different antennas - stock, bigger ones, no antennas\n- different antenna connectors\n- disabling managing interfaces by OS\n\nAnd what I constantly see are dropped packets or when I test it today also `override block 0xabcd with n fragments`.\n\nWhen I connect my RPi and a Laptop (receiver) to the same wired network and I set `gst-launch-1.0` to stream to a wired network, I can send high quality video without any problem, so the problem is somewhere in the WiFi setup or within the thing I did not think of.\n\nAny tips are going to be very appreciated as I have no idea what else I might try. I know that this works for people, so I don't know why it doesn't for me. I'm open to test any ideas.","files":null}]}