{"author":{"id":"ca90045d5399c21b6727f972ab5a6a5357d5d0dfde83d0b744683b6068f30ba1"},"ops":[{"type":1,"timestamp":1607679774,"nonce":"GAlbpWokKlok0nue+rUpy1mGKBM=","metadata":{"github-id":"MDU6SXNzdWU3NjIxNTUyMDY=","github-url":"https://github.com/svpcom/wfb-ng/issues/73","origin":"github"},"title":"\"Link lost\" with 8814au","message":"Hi,\n\nfirst thank you for this library. I bought 2 asus USB-AC68 to try it in my drone for camera streaming. i followed most fo the setup steps here but eventually i got Link lost\n\nGS\n```\npi@raspberrypi:~ $ journalctl -xu wifibroadcast@gs\n-- Logs begin at Fri 2020-12-11 06:06:08 GMT, end at Fri 2020-12-11 09:27:54 GMT. --\nDec 11 06:06:21 raspberrypi systemd[1]: Started WFB profile gs.\n-- Subject: A start job for unit wifibroadcast@gs.service has finished successfully\n-- Defined-By: systemd\n-- Support: https://www.debian.org/support\n--\n-- A start job for unit wifibroadcast@gs.service has finished successfully.\n--\n-- The job identifier is 446.\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Log opened.\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] # iw reg set BO\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] # ifconfig wlan1 down\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] # iw dev wlan1 set monitor otherbss\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] # ifconfig wlan1 up\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] # iw dev wlan1 set channel 161 HT20\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Connect telem stream 2(RX), 1(TX) to 127.0.0.1:14550\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] UDPProxyProtocol starting on 54071\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] UDPProxyProtocol starting on 14600\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] UDPProxyProtocol starting on 34423\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Telem RX: /usr/bin/wfb_rx -p 2 -u 14600 -K /etc/gs.key -k 1 -n 2 wlan1\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Telem TX: /usr/bin/wfb_tx -p 1 -u 14601 -K /etc/gs.key -B 20 -G long -S 1 -L 0 -M 1 -k\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] AntennaFactory starting on 8001\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Started telem rx\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Started telem tx\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Send video stream 3 to 127.0.0.1:5600\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] AntennaFactory starting on 8002\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Started video rx\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Video: /usr/bin/wfb_rx -p 3 -c 127.0.0.1 -u 5600 -K /etc/gs.key -k 8 -n 12 wlan1\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] UDPProxyProtocol starting on 14800\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] UDPProxyProtocol starting on 50816\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Tunnel RX: /usr/bin/wfb_rx -p 5 -u 14800 -K /etc/gs.key -k 1 -n 2 wlan1\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Tunnel TX: /usr/bin/wfb_tx -p 4 -u 14801 -K /etc/gs.key -B 20 -G long -S 1 -L 0 -M 1 -k\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] AntennaFactory starting on 8003\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Started tunnel rx\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] Started tunnel tx\nDec 11 06:06:24 raspberrypi python[621]: 2020-12-11 06:06:24+0000 [-] telem tx: Listen on 14601 for wlan1\nDec 11 06:06:25 raspberrypi python[621]: 2020-12-11 06:06:25+0000 [-] tunnel tx: Listen on 14801 for wlan1\nDec 11 06:06:25 raspberrypi python[621]: 2020-12-11 06:06:25+0000 [-] telem rx: wlan1 has DLT_IEEE802_11_RADIO Encap\nDec 11 06:06:25 raspberrypi python[621]: 2020-12-11 06:06:25+0000 [-] tunnel rx: wlan1 has DLT_IEEE802_11_RADIO Encap\nDec 11 06:06:25 raspberrypi python[621]: 2020-12-11 06:06:25+0000 [-] video rx: wlan1 has DLT_IEEE802_11_RADIO Encap\n```\n\nDrone\n```\npi@raspberrypi:~ $ journalctl -xu wifibroadcast@drone\n-- Logs begin at Fri 2020-12-11 06:06:04 GMT, end at Fri 2020-12-11 09:27:54 GMT. --\nDec 11 06:06:18 raspberrypi systemd[1]: Started WFB profile drone.\n-- Subject: A start job for unit wifibroadcast@drone.service has finished successfully\n-- Defined-By: systemd\n-- Support: https://www.debian.org/support\n--\n-- A start job for unit wifibroadcast@drone.service has finished successfully.\n--\n-- The job identifier is 443.\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Log opened.\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] # iw reg set BO\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] # ifconfig wlan1 down\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] # iw dev wlan1 set monitor otherbss\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] # ifconfig wlan1 up\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] # iw dev wlan1 set channel 161 HT20\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Listen for telem stream 1(RX), 2(TX) on 0.0.0.0:14550\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] UDPProxyProtocol starting on 14550\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] UDPProxyProtocol starting on 14700\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] UDPProxyProtocol starting on 36170\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Telem RX: /usr/bin/wfb_rx -p 1 -u 14700 -K /etc/drone.key -k 1 -n 2 wlan1\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Telem TX: /usr/bin/wfb_tx -p 2 -u 14701 -K /etc/drone.key -B 20 -G long -S 1 -L 0 -M 1\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Started telem rx\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Started telem tx\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Listen for video stream 3 on 0.0.0.0:5602\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Started video tx\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Video: /usr/bin/wfb_tx -p 3 -u 5602 -K /etc/drone.key -B 20 -G long -S 1 -L 0 -M 1 -k 8\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] UDPProxyProtocol starting on 14900\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] UDPProxyProtocol starting on 54925\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Tunnel RX: /usr/bin/wfb_rx -p 4 -u 14900 -K /etc/drone.key -k 1 -n 2 wlan1\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Tunnel TX: /usr/bin/wfb_tx -p 5 -u 14901 -K /etc/drone.key -B 20 -G long -S 1 -L 0 -M 1\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Started tunnel rx\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] Started tunnel tx\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] telem tx: Listen on 14701 for wlan1\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] video tx: Listen on 5602 for wlan1\nDec 11 06:06:21 raspberrypi python[619]: 2020-12-11 06:06:21+0000 [-] tunnel tx: Listen on 14901 for wlan1\nDec 11 06:06:22 raspberrypi python[619]: 2020-12-11 06:06:22+0000 [-] telem rx: wlan1 has DLT_IEEE802_11_RADIO Encap\nDec 11 06:06:22 raspberrypi python[619]: 2020-12-11 06:06:22+0000 [-] tunnel rx: wlan1 has DLT_IEEE802_11_RADIO Encap\n```\n\ni compiled the driver from the src:\nhttps://github.com/aircrack-ng/rtl8814au\n\nsteps in raspberry lite:\n```\n$ sudo apt-get update\n$ sudo apt-get upgrade\n$ sudo apt-get install git raspberrypi-kernel-headers build-essential dkms\n$ git clone https://github.com/aircrack-ng/rtl8814au.git\n$ cd rtl8814au\n\n# modify Makefile and update the line:\n# dkms install -m 8814au -v $(DRIVER_VERSION)\n# to\n# dkms install --force -m 8814au -v $(DRIVER_VERSION)\n\n$ ARCH=arm make\n$ sudo make install\n\n$ sudo ARCH=arm make dkms_install\n```\n\nany help is appreciated","files":null}]}