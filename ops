{"author":{"id":"ca90045d5399c21b6727f972ab5a6a5357d5d0dfde83d0b744683b6068f30ba1"},"ops":[{"type":1,"timestamp":1614756682,"nonce":"Qz6bc2jJfaAY4QpZK0XatedTNOA=","metadata":{"github-id":"MDU6SXNzdWU4MjA4Mzg4MDk=","github-url":"https://github.com/svpcom/wfb-ng/issues/118","origin":"github"},"title":"[BUG] Link lost!","message":"I got link lost after trying the installation procedures. the only difference is that i installed rtl8812au from https://github.com/aircrack-ng/rtl8812au.git since there are few patches for 5.10 kernel in Raspberry.\n\nthe logs shows everything fine:\n```\nGS\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Log opened.\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] # iw reg set BO\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] # ifconfig wlan1 down\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] # iw dev wlan1 set monitor otherbss\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] # ifconfig wlan1 up\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] # iw dev wlan1 set channel 161 HT20\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Connect telem stream 2(RX), 1(TX) to 127.0.0.1:14550\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] UDPProxyProtocol starting on 42331\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] UDPProxyProtocol starting on 14600\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] UDPProxyProtocol starting on 60935\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Telem RX: /usr/bin/wfb_rx -p 2 -u 14600 -K /etc/gs.key -k 1 -n 2 wlan1\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Telem TX: /usr/bin/wfb_tx -p 1 -u 14601 -K /etc/gs.key -B 20 -G long -S 1 -L 0 -M 1 -k\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] AntennaFactory starting on 8001\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Started telem rx\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Started telem tx\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Send video stream 3 to 127.0.0.1:5600\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] AntennaFactory starting on 8002\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Started video rx\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Video: /usr/bin/wfb_rx -p 3 -c 127.0.0.1 -u 5600 -K /etc/gs.key -k 8 -n 12 wlan1\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] UDPProxyProtocol starting on 14800\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] UDPProxyProtocol starting on 50003\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Tunnel RX: /usr/bin/wfb_rx -p 5 -u 14800 -K /etc/gs.key -k 1 -n 2 wlan1\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Tunnel TX: /usr/bin/wfb_tx -p 4 -u 14801 -K /etc/gs.key -B 20 -G long -S 1 -L 0 -M 1 -\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] AntennaFactory starting on 8003\nMar 03 07:22:51 raspberrypi python[1258]: 2021-03-03 07:22:51+0000 [-] Started tunnel rx\nMar 03 07:22:52 raspberrypi python[1258]: 2021-03-03 07:22:52+0000 [-] Started tunnel tx\nMar 03 07:22:52 raspberrypi python[1258]: 2021-03-03 07:22:52+0000 [-] telem tx: Listen on 14601 for wlan1\nMar 03 07:22:52 raspberrypi python[1258]: 2021-03-03 07:22:52+0000 [-] tunnel tx: Listen on 14801 for wlan1\nMar 03 07:22:52 raspberrypi python[1258]: 2021-03-03 07:22:52+0000 [-] telem rx: wlan1 has DLT_IEEE802_11_RADIO Encap\nMar 03 07:22:52 raspberrypi python[1258]: 2021-03-03 07:22:52+0000 [-] video rx: wlan1 has DLT_IEEE802_11_RADIO Encap\nMar 03 07:22:52 raspberrypi python[1258]: 2021-03-03 07:22:52+0000 [-] tunnel rx: wlan1 has DLT_IEEE802_11_RADIO Encap\n```\n\n```\ndrone\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] Log opened.\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] # iw reg set BO\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] # ifconfig wlan1 down\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] # iw dev wlan1 set monitor otherbss\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] # ifconfig wlan1 up\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] # iw dev wlan1 set channel 161 HT20\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] Listen for telem stream 1(RX), 2(TX) on 0.0.0.0:14550\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] UDPProxyProtocol starting on 14550\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] UDPProxyProtocol starting on 14700\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] UDPProxyProtocol starting on 49134\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] Telem RX: /usr/bin/wfb_rx -p 1 -u 14700 -K /etc/drone.key -k 1 -n 2 wlan1\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] Telem TX: /usr/bin/wfb_tx -p 2 -u 14701 -K /etc/drone.key -B 20 -G long -S 1 -L 0 -M 1\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] Started telem rx\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] Started telem tx\nMar 03 07:22:57 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] Listen for video stream 3 on 0.0.0.0:5602\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:57+0000 [-] Started video tx\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] Video: /usr/bin/wfb_tx -p 3 -u 5602 -K /etc/drone.key -B 20 -G long -S 1 -L 0 -M 1 -k 8\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] UDPProxyProtocol starting on 14900\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] UDPProxyProtocol starting on 60501\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] Tunnel RX: /usr/bin/wfb_rx -p 4 -u 14900 -K /etc/drone.key -k 1 -n 2 wlan1\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] Tunnel TX: /usr/bin/wfb_tx -p 5 -u 14901 -K /etc/drone.key -B 20 -G long -S 1 -L 0 -M 1\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] Started tunnel rx\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] Started tunnel tx\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] telem tx: Listen on 14701 for wlan1\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] video tx: Listen on 5602 for wlan1\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] tunnel tx: Listen on 14901 for wlan1\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] tunnel rx: wlan1 has DLT_IEEE802_11_RADIO Encap\nMar 03 07:22:58 raspberrypi python[715]: 2021-03-03 07:22:58+0000 [-] telem rx: wlan1 has DLT_IEEE802_11_RADIO Encap\n```\n\n\nconfiguration on both of them\n```\nwifi_channel = 161     # 161 -- radio channel @5805 MHz, range: 5795â€“5815 MHz, width 20MHz\n                       # 1 -- radio channel @2412 Mhz, \n                       # see https://en.wikipedia.org/wiki/List_of_WLAN_channels for reference\nwifi_region = 'BO'     # Your country for CRDA (use BO or GY if you want max tx power) \n\n[gs_mavlink]\npeer = 'connect://127.0.0.1:14550'  # outgoing connection\n# peer = 'listen://0.0.0.0:14550'   # incoming connection\n\nbandwidth = 20     # bandwidth 20 or 40 MHz\nshort_gi = False   # use short GI or not\nstbc = 1           # stbc streams: 1, 2, 3 or 0 if unused\nmcs_index = 1      # mcs index\n\n[gs_video]\npeer = 'connect://127.0.0.1:5600'  # outgoing connection for\n                                   # video sink (QGroundControl on GS)\n                                   \nbandwidth = 20     # bandwidth 20 or 40 MHz\nshort_gi = False   # use short GI or not\nstbc = 1           # stbc streams: 1, 2, 3 or 0 if unused\nmcs_index = 1      # mcs index\n\n[drone_mavlink]\npeer = 'listen://0.0.0.0:14550'   # incoming connection\n# peer = 'connect://127.0.0.1:14550'  # outgoing connection\n\nbandwidth = 20     # bandwidth 20 or 40 MHz\nshort_gi = False   # use short GI or not\nstbc = 1           # stbc streams: 1, 2, 3 or 0 if unused\nmcs_index = 1      # mcs index\n\n[drone_video]\npeer = 'listen://0.0.0.0:5602'  # listen for video stream (gstreamer on drone)\n\nbandwidth = 20     # bandwidth 20 or 40 MHz\nshort_gi = False   # use short GI or not\nstbc = 1           # stbc streams: 1, 2, 3 or 0 if unused\nmcs_index = 1      # mcs index\n```\n\nand mavlink is the normal\n```\n[UdpEndpoint wifibroadcast]\nMode = Normal\nAddress = 127.0.0.1\nPort = 14550\n```","files":null}]}