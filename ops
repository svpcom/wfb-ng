{"author":{"id":"a9c4ccf329d48f6d1e2cc81a43adb27b815ef10683455ccaedda99b879b26bf2"},"ops":[{"type":1,"timestamp":1745177095,"nonce":"GW3UZnOkQhZ5TGe1T4mpHGWuK5s=","metadata":{"github-id":"I_kwDOBLCY8M6zPgPa","github-url":"https://github.com/svpcom/wfb-ng/issues/421","origin":"github"},"title":"[BUG] Unable to install/build rtl8812eu driver on Nvidia Jetson Orin Nano","message":"**Describe the bug**\nBoth \"sudo ./dkms-install.sh\" and \"make\" finish with errors when attempting to install rtl8812eu driver.\n\n**To Reproduce**\n```\n$ git clone -b v5.15.0.1 https://github.com/svpcom/rtl8812eu.git\n$ cd rtl8812eu/\n$ sudo ./dkms-install.sh  #or make\n```\n\n**Expected behavior**\nFinishing installation or building and detecting the wifi module the same as my x86 laptop.\n\n**Screenshots**\nNot applicable, I believe.\n\n**Your setup (please complete the following information):**\n - OS: Jetpack 6.2 (Based of Ubuntu 22.04)\n - Hardware: Jetson Orin Nano 4gb\n - WiFi cards: LB-Link BL-M8812EU2\n - WiFi drivers: Cloned directly from [https://github.com/svpcom/rtl8812eu.git](https://github.com/svpcom/rtl8812eu.git)\n\n**Additional context**\nThe make.log results in\n\n```\nDKMS make.log for rtl88x2eu-5.15.0.1 for kernel 5.15.148-tegra (aarch64)\nSun Apr 20 08:02:11 PM WEST 2025\nmake ARCH=arm64 CROSS_COMPILE= -C /lib/modules/5.15.148-tegra/build M=/var/lib/dkms/rtl88x2eu/5.15.0.1/build  modules\nmake[1]: Entering directory '/usr/src/linux-headers-5.15.148-tegra-ubuntu22.04_aarch64/3rdparty/canonical/linux-jammy/kernel-source'\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_cmd.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_security.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_debug.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_io.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_ioctl_query.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_ioctl_set.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_ieee80211.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_mlme.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_mlme_ext.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_mi.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_wlan_util.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_vht.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_pwrctrl.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_rf.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_chplan.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_regdb_rtk.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_chset.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_dfs.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_txpwr.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/monitor/rtw_radiotap.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_recv.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_sta_mgt.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_ap.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/wds/rtw_wds.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/mesh/rtw_mesh.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/mesh/rtw_mesh_pathtbl.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/mesh/rtw_mesh_hwmp.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_xmit.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_p2p.o\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_recv.c: In function ‘validate_mp_recv_frame’:\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_recv.c:3906:25: warning: this ‘for’ clause does not guard... [-Wmisleading-indentation]\n 3906 |                         for (i = 0; i \u003c precv_frame-\u003eu.hdr.len; i = i + 8)\n      |                         ^~~\nIn file included from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/drv_types.h:60,\n                 from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_recv.c:17:\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/rtw_debug.h:52:33: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the ‘for’\n   52 |         #define RTW_INFO(x,...) do {} while (0)\n      |                                 ^~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_recv.c:3909:33: note: in expansion of macro ‘RTW_INFO’\n 3909 |                                 RTW_INFO(\"#############################\\n\");\n      |                                 ^~~~~~~~\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_rson.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_tdls.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_br_ext.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_iol.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_sreset.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_btcoex_wifionly.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_btcoex.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_beamforming.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_odm.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_rm.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_rm_fsm.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_ft.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_wnm.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_mbo.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_rm_util.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/efuse/rtw_efuse.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_roch.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/aes-internal.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/aes-internal-enc.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/aes-gcm.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/aes-ccm.o\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/efuse/rtw_efuse.c: In function ‘rtw_efuse_analyze’:\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/efuse/rtw_efuse.c:1091:17: warning: this ‘if’ clause does not guard... [-Wmisleading-indentation]\n 1091 |                 if (i % 16 == 0)\n      |                 ^~\nIn file included from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/drv_types.h:60,\n                 from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/efuse/rtw_efuse.c:17:\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/rtw_debug.h:261:9: note: ...this statement, but the latter is misleadingly indented as if it were guarded by the ‘if’\n  261 |         do {\\\n      |         ^~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/efuse/rtw_efuse.c:1093:25: note: in expansion of macro ‘_RTW_PRINT_SEL’\n 1093 |                         _RTW_PRINT_SEL(RTW_DBGDUMP, \"%02X%s\"\n      |                         ^~~~~~~~~~~~~~\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/aes-omac1.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/ccmp.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/gcmp.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/aes-siv.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/aes-ctr.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/sha256-internal.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/sha256.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/sha256-prf.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/crypto/rtw_crypto_wrap.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/core/rtw_swcrypto.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/osdep_service.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/os_intfs.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/usb_intf.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/usb_ops_linux.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_linux.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/xmit_linux.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/mlme_linux.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/recv_linux.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/rtw_cfgvendor.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/wifi_regd.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/rtw_android.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/rtw_proc.o\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/nlrtw.o\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c: In function ‘rtw_cfg80211_ch_switch_notify’:\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:515:17: error: too many arguments to function ‘cfg80211_ch_switch_started_notify’\n  515 |                 cfg80211_ch_switch_started_notify(adapter-\u003epnetdev, \u0026chdef, 0, 0, false);\n      |                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/osdep_service_linux.h:98,\n                 from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/osdep_service.h:59,\n                 from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/drv_types.h:27,\n                 from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:17:\n./include/net/cfg80211.h:7716:6: note: declared here\n 7716 | void cfg80211_ch_switch_started_notify(struct net_device *dev,\n      |      ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:540:9: error: too many arguments to function ‘cfg80211_ch_switch_notify’\n  540 |         cfg80211_ch_switch_notify(adapter-\u003epnetdev, \u0026chdef, 0);\n      |         ^~~~~~~~~~~~~~~~~~~~~~~~~\nIn file included from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/osdep_service_linux.h:98,\n                 from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/osdep_service.h:59,\n                 from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/include/drv_types.h:27,\n                 from /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:17:\n./include/net/cfg80211.h:7702:6: note: declared here\n 7702 | void cfg80211_ch_switch_notify(struct net_device *dev,\n      |      ^~~~~~~~~~~~~~~~~~~~~~~~~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c: In function ‘rtw_cfg80211_indicate_connect’:\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:1222:26: error: ‘struct cfg80211_roam_info’ has no member named ‘links’\n 1222 |                 roam_info.links[0].bssid = cur_network-\u003enetwork.MacAddress;\n      |                          ^\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/rtw_rhashtable.o\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c: At top level:\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10981:20: error: initialization of ‘int (*)(struct wiphy *, struct net_device *, u8,  bool,  const u8 *, struct key_params *)’ {aka ‘int (*)(struct wiphy *, struct net_device *, unsigned char,  _Bool,  const unsigned char *, struct key_params *)’} from incompatible pointer type ‘int (*)(struct wiphy *, struct net_device *, int,  u8,  bool,  const u8 *, struct key_params *)’ {aka ‘int (*)(struct wiphy *, struct net_device *, int,  unsigned char,  _Bool,  const unsigned char *, struct key_params *)’} [-Werror=incompatible-pointer-types]\n10981 |         .add_key = cfg80211_rtw_add_key,\n      |                    ^~~~~~~~~~~~~~~~~~~~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10981:20: note: (near initialization for ‘rtw_cfg80211_ops.add_key’)\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10982:20: error: initialization of ‘int (*)(struct wiphy *, struct net_device *, u8,  bool,  const u8 *, void *, void (*)(void *, struct key_params *))’ {aka ‘int (*)(struct wiphy *, struct net_device *, unsigned char,  _Bool,  const unsigned char *, void *, void (*)(void *, struct key_params *))’} from incompatible pointer type ‘int (*)(struct wiphy *, struct net_device *, int,  u8,  bool,  const u8 *, void *, void (*)(void *, struct key_params *))’ {aka ‘int (*)(struct wiphy *, struct net_device *, int,  unsigned char,  _Bool,  const unsigned char *, void *, void (*)(void *, struct key_params *))’} [-Werror=incompatible-pointer-types]\n10982 |         .get_key = cfg80211_rtw_get_key,\n      |                    ^~~~~~~~~~~~~~~~~~~~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10982:20: note: (near initialization for ‘rtw_cfg80211_ops.get_key’)\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10983:20: error: initialization of ‘int (*)(struct wiphy *, struct net_device *, u8,  bool,  const u8 *)’ {aka ‘int (*)(struct wiphy *, struct net_device *, unsigned char,  _Bool,  const unsigned char *)’} from incompatible pointer type ‘int (*)(struct wiphy *, struct net_device *, int,  u8,  bool,  const u8 *)’ {aka ‘int (*)(struct wiphy *, struct net_device *, int,  unsigned char,  _Bool,  const unsigned char *)’} [-Werror=incompatible-pointer-types]\n10983 |         .del_key = cfg80211_rtw_del_key,\n      |                    ^~~~~~~~~~~~~~~~~~~~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10983:20: note: (near initialization for ‘rtw_cfg80211_ops.del_key’)\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10984:28: error: initialization of ‘int (*)(struct wiphy *, struct net_device *, u8,  bool,  bool)’ {aka ‘int (*)(struct wiphy *, struct net_device *, unsigned char,  _Bool,  _Bool)’} from incompatible pointer type ‘int (*)(struct wiphy *, struct net_device *, int,  u8,  bool,  bool)’ {aka ‘int (*)(struct wiphy *, struct net_device *, int,  unsigned char,  _Bool,  _Bool)’} [-Werror=incompatible-pointer-types]\n10984 |         .set_default_key = cfg80211_rtw_set_default_key,\n      |                            ^~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10984:28: note: (near initialization for ‘rtw_cfg80211_ops.set_default_key’)\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10986:33: error: initialization of ‘int (*)(struct wiphy *, struct net_device *, u8)’ {aka ‘int (*)(struct wiphy *, struct net_device *, unsigned char)’} from incompatible pointer type ‘int (*)(struct wiphy *, struct net_device *, int,  u8)’ {aka ‘int (*)(struct wiphy *, struct net_device *, int,  unsigned char)’} [-Werror=incompatible-pointer-types]\n10986 |         .set_default_mgmt_key = cfg80211_rtw_set_default_mgmt_key,\n      |                                 ^~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:10986:33: note: (near initialization for ‘rtw_cfg80211_ops.set_default_mgmt_key’)\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:11065:24: error: initialization of ‘int (*)(struct wiphy *, struct wireless_dev *, struct cfg80211_chan_def *)’ from incompatible pointer type ‘int (*)(struct wiphy *, struct wireless_dev *, unsigned int,  struct cfg80211_chan_def *)’ [-Werror=incompatible-pointer-types]\n11065 |         .get_channel = cfg80211_rtw_get_channel,\n      |                        ^~~~~~~~~~~~~~~~~~~~~~~~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:11065:24: note: (near initialization for ‘rtw_cfg80211_ops.get_channel’)\n  CC [M]  /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/rtw_radiotap.o\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c: In function ‘rtw_wdev_unregister’:\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:11330:17: error: ‘struct wireless_dev’ has no member named ‘valid_links’\n11330 |         if (wdev-\u003evalid_links \u0026\u0026 wdev-\u003elinks[0].client.current_bss)\n      |                 ^~\n/var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.c:11330:38: error: ‘struct wireless_dev’ has no member named ‘links’\n11330 |         if (wdev-\u003evalid_links \u0026\u0026 wdev-\u003elinks[0].client.current_bss)\n      |                                      ^~\ncc1: some warnings being treated as errors\nmake[2]: *** [scripts/Makefile.build:295: /var/lib/dkms/rtl88x2eu/5.15.0.1/build/os_dep/linux/ioctl_cfg80211.o] Error 1\nmake[2]: *** Waiting for unfinished jobs....\nmake[1]: *** [Makefile:1912: /var/lib/dkms/rtl88x2eu/5.15.0.1/build] Error 2\nmake[1]: Leaving directory '/usr/src/linux-headers-5.15.148-tegra-ubuntu22.04_aarch64/3rdparty/canonical/linux-jammy/kernel-source'\nmake: *** [Makefile:2600: modules] Error 2\n```\n\n\n**Confirm you read**\n- [x]  https://github.com/svpcom/wfb-ng/blob/master/README.md\n- [x]  https://github.com/svpcom/wfb-ng/wiki/Setup-HOWTO\n\nThanks in advance for any help!","files":null}]}