{"author":{"id":"6a79840f60ece05bad168fd4e8a0ddbd4f6e3b5d75550ceef46e0c0931e94bf0"},"ops":[{"type":6,"timestamp":1607617058,"nonce":"+gEc6nPryGFR/LGkRu7Az6Bez84=","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlRWRpdDo0NjY5NDQ4MTM="},"target":"23430ab4a187294da754492aadb6a46ee1eef874e67c2e3a5918d8a9a9e50b5a","message":"Hello,\nIn your rx implementation you use MAX_FEC_PAYLOADwhen reconstructing primary FEC fragments with secondary fragments:\nhttps://github.com/svpcom/wifibroadcast/blob/master/src/rx.cpp#L616\n\nHowever, I am wondering if it wouldn't be better to use the same size that was used on the tx.\nSince each FEC secondary packet has the size of max_packet_size (as calculated on tx for this block) the information should be available in the apply_fec step.\n\nI'd use omething like this (hope this example makes my intentions clearer:\nhttps://github.com/Consti10/wifibroadcast/blob/master/src/FEC.hpp#L196","files":null},{"type":6,"timestamp":1607617063,"nonce":"EW0f//3Fp7pY0BXnwXIylvMs3pA=","metadata":{"github-id":"MDE1OlVzZXJDb250ZW50RWRpdElzc3VlRWRpdDo0NjY5NDQ4NDQ="},"target":"23430ab4a187294da754492aadb6a46ee1eef874e67c2e3a5918d8a9a9e50b5a","message":"Hello,\nIn your rx implementation you use MAX_FEC_PAYLOAD when reconstructing primary FEC fragments with secondary fragments:\nhttps://github.com/svpcom/wifibroadcast/blob/master/src/rx.cpp#L616\n\nHowever, I am wondering if it wouldn't be better to use the same size that was used on the tx.\nSince each FEC secondary packet has the size of max_packet_size (as calculated on tx for this block) the information should be available in the apply_fec step.\n\nI'd use omething like this (hope this example makes my intentions clearer:\nhttps://github.com/Consti10/wifibroadcast/blob/master/src/FEC.hpp#L196","files":null},{"type":3,"timestamp":1607617295,"nonce":"PJVJwlC2RRn9tUCBx7C/XtH28Ng=","metadata":{"github-id":"MDEyOklzc3VlQ29tbWVudDc0MjYyNTk4Mw==","github-url":"https://github.com/svpcom/wfb-ng/issues/71#issuecomment-742625983"},"message":"I am not sure how fec even works when using different values for the last \"sz\" param in tx and rx but aparently the magic math behind doesn't care (probably due to the 'zeroing' trick)","files":null}]}